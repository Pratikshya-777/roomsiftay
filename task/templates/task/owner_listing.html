<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <title>My Listings</title>
</head>

<body class="bg-gray-100 min-h-screen">

<div class="max-w-6xl mx-auto px-4 py-8">

    <!-- Page Header -->
    <div class="mb-8">
        <h1 class="text-3xl font-bold text-gray-800">My Listings</h1>
        <p class="text-gray-500 mt-1">
            Manage your drafts, pending approvals, and published listings
        </p>
    </div>

    <!-- DRAFT LISTINGS -->
    <div class="mb-10">
        <h2 class="text-xl font-semibold text-gray-800 flex items-center gap-2">
            üìù Draft Listings
        </h2>

        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mt-4">
            {% for listing in drafts %}
                <div class="bg-white rounded-xl shadow-sm border p-5 flex flex-col justify-between">

                    <div>
                        <h3 class="text-lg font-semibold text-gray-800">
                            {{ listing.title }}
                        </h3>

                        <p class="text-sm text-gray-500 mt-1">
                            <i class="fa-solid fa-pen-to-square mr-1"></i>
                            Draft ‚Äî not submitted
                        </p>
                    </div>

                    <div class="mt-5 flex justify-between items-center">
                        <span class="px-3 py-1 rounded-full text-xs font-semibold
                                     bg-gray-100 text-gray-600">
                            Draft
                        </span>

                        <a href="{% url 'edit_listing' listing.id %}"
                           class="text-indigo-600 font-semibold hover:text-indigo-800 transition">
                            Continue Editing ‚Üí
                        </a>
                    </div>

                </div>
            {% empty %}
                <div class="col-span-full text-center py-10 bg-white rounded-xl border">
                    <i class="fa-regular fa-folder-open text-3xl text-gray-400 mb-3"></i>
                    <p class="text-gray-500">You don‚Äôt have any draft listings.</p>
                </div>
            {% endfor %}
        </div>
    </div>

    <!-- PENDING LISTINGS -->
    <div class="mb-10">
        <h2 class="text-xl font-semibold text-gray-800 flex items-center gap-2">
            ‚è≥ Pending Verification
        </h2>

        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mt-4">
            {% for listing in pending %}
                <div class="bg-white rounded-xl shadow-sm border p-5 flex flex-col justify-between">

                    <div>
                        <h3 class="text-lg font-semibold text-gray-800">
                            {{ listing.title }}
                        </h3>

                        <p class="text-sm text-yellow-600 mt-1">
                            <i class="fa-solid fa-clock mr-1"></i>
                            Waiting for admin approval
                        </p>
                    </div>

                    <div class="mt-5">
                        <span class="px-3 py-1 rounded-full text-xs font-semibold
                                     bg-yellow-100 text-yellow-700">
                            Pending
                        </span>
                    </div>

                </div>
            {% empty %}
                <div class="col-span-full text-center py-10 bg-white rounded-xl border">
                    <i class="fa-regular fa-hourglass text-3xl text-gray-400 mb-3"></i>
                    <p class="text-gray-500">No listings pending verification.</p>
                </div>
            {% endfor %}
        </div>
    </div>

    <!-- APPROVED LISTINGS (OPTIONAL) -->
    {% if approved %}
    <div class="mb-10">
        <h2 class="text-xl font-semibold text-gray-800 flex items-center gap-2">
            ‚úÖ Approved Listings
        </h2>

        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mt-4">
            {% for listing in approved %}
                <div class="bg-white rounded-xl shadow-sm border p-5">

                    <h3 class="text-lg font-semibold text-gray-800">
                        {{ listing.title }}
                    </h3>

                    <p class="text-sm text-green-600 mt-1">
                        <i class="fa-solid fa-circle-check mr-1"></i>
                        Live & Visible
                    </p>

                </div>
            {% endfor %}
        </div>
    </div>
    {% endif %}

</div>

</body>
</html>
