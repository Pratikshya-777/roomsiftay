{% extends "base.html" %}
{% load static %}
{% load socialaccount %}

{% block title %}Register{% endblock %}

{% block content %}

<div class="min-h-screen flex items-center justify-center bg-cover bg-center relative"
     style="background-image: url('https://images.unsplash.com/photo-1505691938895-1758d7feb511');">

  <div class="absolute inset-0 bg-gradient-to-br from-black/70 to-black/40"></div>

  <div class="relative z-10 w-full max-w-lg bg-white/80 backdrop-blur-2xl rounded-3xl shadow-2xl p-10">

    <!-- Header -->
    <div class="text-center mb-8">
      <h1 class="text-4xl font-extrabold text-gray-800">Room Finder</h1>
      <p class="text-gray-700 mt-2 text-lg">Find or list rooms with ease</p>
    </div>

    <!-- ================= SOCIAL LOGIN (OUTSIDE FORM) ================= -->
    <div class="space-y-4 mb-6">

      <a href="{% provider_login_url 'google' %}"
         class="w-full flex items-center justify-center gap-3 py-3 rounded-xl
                bg-white border border-gray-300 hover:bg-gray-100 transition">
        <img src="https://www.svgrepo.com/show/475656/google-color.svg" class="w-5 h-5">
        <span class="font-semibold text-gray-700">Sign up with Google</span>
      </a>

      <a href="{% provider_login_url 'github' %}"
         class="w-full flex items-center justify-center gap-3 py-3 rounded-xl
                bg-gray-900 text-white hover:bg-gray-800 transition">
        <img src="https://www.svgrepo.com/show/512317/github-142.svg" class="w-5 h-5 invert">
        <span class="font-semibold">Sign up with GitHub</span>
      </a>

    </div>

    <div class="flex items-center gap-3 my-6">
      <hr class="flex-grow border-gray-300">
      <span class="text-gray-500 text-sm">OR</span>
      <hr class="flex-grow border-gray-300">
    </div>

    <!-- ================= NORMAL REGISTER FORM ================= -->
    <form method="POST" action="{% url 'register' %}" class="space-y-6">
      {% csrf_token %}

      <div>
        <label class="block font-semibold mb-1">Username / Email</label>
        <input type="text" name="username" required
               class="w-full px-4 py-3 rounded-xl border border-gray-300">
      </div>

      <div>
        <label class="block font-semibold mb-1">Password</label>
        <input type="password" name="password1" required
               class="w-full px-4 py-3 rounded-xl border border-gray-300">
      </div>

      <div>
        <label class="block font-semibold mb-1">Confirm Password</label>
        <input type="password" name="password2" required
               class="w-full px-4 py-3 rounded-xl border border-gray-300">
      </div>

      <div>
        <label class="block font-semibold mb-3">Register As</label>
        <div class="grid grid-cols-3 gap-4">
          <label><input type="radio" name="role" value="user" checked> User</label>
          <label><input type="radio" name="role" value="owner"> Owner</label>
          <label><input type="radio" name="role" value="admin"> Admin</label>
        </div>
      </div>

      <button type="submit"
              class="w-full py-3 rounded-xl bg-blue-600 text-white font-bold">
        Create Account
      </button>
    </form>

    <p class="mt-6 text-center text-gray-700">
      Already have an account?
      <a href="{% url 'index' %}" class="text-blue-600 font-semibold">Login</a>
    </p>

  </div>
</div>

{% endblock %}
