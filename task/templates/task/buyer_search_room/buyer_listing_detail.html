{% extends "base.html" %}
{% block title %}{{ listing.title }}{% endblock %}

{% block content %}

<div class="max-w-6xl mx-auto bg-white rounded-[2.5rem] p-10 shadow-sm border border-gray-100">

    <!-- HEADER -->
    <div class="mb-8">
        <h1 class="text-2xl font-semibold text-gray-700">
            {{ listing.title }}
        </h1>
        <p class="text-sm text-gray-400 mt-1">
            Room Details
        </p>
    </div>

    <!-- DETAILS -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-gray-600 mb-10">
        <p><span class="font-medium">Room Type:</span> {{ listing.room_type }}</p>
        <p><span class="font-medium">City:</span> {{ listing.city }}</p>
        <p><span class="font-medium">Area:</span> {{ listing.area }}</p>
        <p><span class="font-medium">Monthly Rent:</span> {{ listing.monthly_rent }}</p>
        <p><span class="font-medium">Security Deposit:</span> {{ listing.security_deposit }}</p>
        <p><span class="font-medium">Bedroom:</span> {{ listing.bedrooms }}</p>
        <p><span class="font-medium">Bathroom:</span> {{ listing.bathrooms }}</p>
        <p><span>ğŸª‘ Furnished: {{ listing.is_furnished|yesno:"Yes,No" }}</span></p>
        <p><span>ğŸ“¶ WiFi: {{ listing.wifi_available|yesno:"Yes,No" }}</span></p>
        <p><span>ğŸš— Parking: {{ listing.parking_available|yesno:"Yes,No" }}</span></p>
        <p><span>ğŸ’¡ Utilities Included: {{ listing.utilities_included|yesno:"Yes,No" }}</span></p>
    </div>

    <!-- PHOTOS (SAME AS ADMIN) -->
    <div class="mb-10">
        <h3 class="text-lg font-semibold text-gray-700 mb-4">
            Property Photos
        </h3>

        <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
            {% for photo in listing.photos.all %}
                <img src="{{ photo.image.url }}"
                     class="rounded-xl border border-gray-200 object-cover h-48 w-full">
            {% empty %}
                <p class="text-gray-400 italic col-span-full">
                    No photos uploaded.
                </p>
            {% endfor %}
        </div>
    </div>

    <!-- BUYER ACTIONS (REPLACES APPROVE / REJECT) -->
    <div class="border-t pt-8 flex flex-wrap gap-4">

        <a href="{% url 'save_listing' listing.id %}"
           class="px-6 py-3 rounded-xl border font-semibold hover:bg-gray-50">
            â¤ï¸ Save Listing
        </a>

        <a href="{% url 'start_chat' listing.id %}"
           class="px-6 py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700">
            ğŸ—¨ Chat with Owner
        </a>

        {% comment %} <a href="#"
           class="px-6 py-3 rounded-xl border font-semibold hover:bg-gray-50">
            ğŸ’¬ Send Inquiry
        </a> {% endcomment %}

    </div>

</div>

{% endblock %}
